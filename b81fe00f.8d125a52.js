(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{104:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return u})),n.d(t,"metadata",(function(){return N})),n.d(t,"rightToc",(function(){return C})),n.d(t,"default",(function(){return v}));var a=n(2),l=n(6),i=n(0),r=n.n(i),b=n(121),o=n(126),c=n(123),d=n(410),m=n(413),p=n(411);const O=[[116.465812,39.991939],[116.4712,39.996749],[116.470788,39.989426],[116.475671,40.000064],[116.46557,39.999829]].map(((e,t)=>({position:e,comment:"\u5185\u5bb9-"+t})));var j=()=>{const[e,t]=Object(i.useState)("default"),[n,a]=Object(i.useState)(O[0]),l=Object(i.useMemo)((()=>n?n.position:null),[n]);return r.a.createElement(o.a,{renderControl:()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a.Item,null,r.a.createElement(m.a.Group,{onChange:e=>t(e.target.value),value:e},r.a.createElement(m.a,{value:"default"},"\u9ed8\u8ba4\u6837\u5f0f"),r.a.createElement(m.a,{value:"custom"},"\u81ea\u5b9a\u4e49\u6837\u5f0f"))))},O.map(((e,t)=>r.a.createElement(c.t,{key:"marker-"+t,position:e.position,zIndex:150,clickable:!0,onClick:()=>(e=>{a(e)})(e)}))),"default"===e&&n&&r.a.createElement(c.p,{position:l,content:n.comment,offset:[0,-30],autoMove:!0,closeWhenClickMap:!0,onClose:()=>a(null)}),"custom"===e&&n&&r.a.createElement(c.p,{position:l,offset:[0,-30],autoMove:!0,closeWhenClickMap:!0,isCustom:!0,onClose:()=>a(null)},r.a.createElement(p.a,{shadow:"always"},r.a.createElement("h3",null,"\u8be5\u70b9\u7684\u4f4d\u7f6e"),r.a.createElement("div",null,n.position.join(", ")),r.a.createElement("div",null))))},s=n(124),u={title:"\u4fe1\u606f\u7a97"},N={unversionedId:"references/infowindow/index",id:"references/infowindow/index",isDocsHomePage:!1,title:"\u4fe1\u606f\u7a97",description:"`",source:"@site/docs/references/infowindow/index.md",slug:"/references/infowindow/index",permalink:"/amap-react/docs/references/infowindow/index",version:"current",sidebar:"docs",previous:{title:"ProvinceLayer",permalink:"/amap-react/docs/references/layers/district/province"},next:{title:"\u5730\u56fe\u63a7\u4ef6",permalink:"/amap-react/docs/references/controls/index"}},C=[{value:"Props",id:"props",children:[]},{value:"Events",id:"events",children:[]},{value:"Example",id:"example",children:[]}],g={rightToc:C};function v(e){var t=e.components,n=Object(l.a)(e,["components"]);return Object(b.b)("wrapper",Object(a.a)({},g,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("pre",null,Object(b.b)("code",Object(a.a)({parentName:"pre"},{}),'\n// \u9ed8\u8ba4\u6837\u5f0f\n<InfoWindow position={[...]} visible={visible} content="..." />\n\n// \u81ea\u5b9a\u4e49\u6837\u5f0f\n<InfoWindow position={[...]} visible={visible} isCustom>\n  <div>\u81ea\u5b9a\u4e49\u4fe1\u606f\u7a97\u5185\u5bb9</div>\n</InfoWindow>\n')),Object(b.b)(j,{mdxType:"ExampleInfoWindow"}),Object(b.b)("p",null,Object(b.b)("a",Object(a.a)({parentName:"p"},{href:"#example"}),"Source Code")),Object(b.b)("h2",{id:"props"},"Props"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u5c5e\u6027\u540d"),Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u7c7b\u578b"),Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u5907\u6ce8"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"position")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"number[2]")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"visible")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"boolean")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"autoMove")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"boolean")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"avoid")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"number[4]")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"closeWhenClickMap")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"boolean")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"size")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"number[2]")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"offset")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"number[2]")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"anchor")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"isCustom")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"boolean")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u82e5\u4e3a",Object(b.b)("inlineCode",{parentName:"td"},"true"),"\uff0c\u5219\u5fc5\u987b\u642d\u914d",Object(b.b)("inlineCode",{parentName:"td"},"children"),"\u4f7f\u7528")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"content")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"\u82e5",Object(b.b)("inlineCode",{parentName:"td"},"isCustom"),"\u4e3a",Object(b.b)("inlineCode",{parentName:"td"},"true"),"\uff0c\u6b64\u5c5e\u6027\u5c06\u88ab\u5ffd\u7565")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"children")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"React.ReactNode")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"\u5f53isCustom"),"\u4e3a",Object(b.b)("inlineCode",{parentName:"td"},"true"),"\u65f6\u6709\u6548")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"className")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"\u5f53isCustom"),"\u4e3a",Object(b.b)("inlineCode",{parentName:"td"},"true"),"\u65f6\u6709\u6548")),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"style")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"string")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"\u5f53isCustom"),"\u4e3a",Object(b.b)("inlineCode",{parentName:"td"},"true"),"\u65f6\u6709\u6548")))),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},"\u5f53\u4f7f\u7528",Object(b.b)("inlineCode",{parentName:"li"},"isCustom=true"),"\u914d\u5408",Object(b.b)("inlineCode",{parentName:"li"},"children"),"\u81ea\u5b9a\u4e49",Object(b.b)("inlineCode",{parentName:"li"},"InfoWindow"),"\u5185\u5bb9\u65f6\uff0c",Object(b.b)("inlineCode",{parentName:"li"},"children"),"\u5c06\u88ab\u4e00\u4e2a",Object(b.b)("inlineCode",{parentName:"li"},"<div>"),"\u6240\u5305\u88f9\uff0c",Object(b.b)("inlineCode",{parentName:"li"},"className"),", ",Object(b.b)("inlineCode",{parentName:"li"},"style"),"\u5c5e\u6027\u5747\u4f5c\u7528\u4e8e\u8fd9\u4e2a",Object(b.b)("inlineCode",{parentName:"li"},"<div>"),"\u3002")),Object(b.b)("h2",{id:"events"},"Events"),Object(b.b)("table",null,Object(b.b)("thead",{parentName:"table"},Object(b.b)("tr",{parentName:"thead"},Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u4e8b\u4ef6\u540d"),Object(b.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"\u5907\u6ce8"))),Object(b.b)("tbody",{parentName:"table"},Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"open")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))),Object(b.b)("tr",{parentName:"tbody"},Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(b.b)("inlineCode",{parentName:"td"},"close")),Object(b.b)("td",Object(a.a)({parentName:"tr"},{align:null}))))),Object(b.b)("h2",{id:"example"},"Example"),Object(b.b)(s.a,{mdxType:"CodeBlock"},"import React, { useState, useMemo } from 'react';\nimport DemoView from '../DemoView';\nimport { Marker, InfoWindow } from '@amap/amap-react';\nimport { Form, Radio, Card } from 'antd';\n\nconst AOI_LIST = [\n  [116.465812, 39.991939],\n  [116.4712, 39.996749],\n  [116.470788, 39.989426],\n  [116.475671, 40.000064],\n  [116.46557, 39.999829],\n].map((position, i) => ({\n  position,\n  comment: `\u5185\u5bb9-${i}`,\n}));\n\nconst ExampleInfoWindow = () => {\n  const [style, setStyle] = useState('default');\n\n  const [active, setActive] = useState(AOI_LIST[0]);\n\n  const position = useMemo(() => (active ? active.position : null), [active]);\n\n  const onMarkerClick = (aoi) => {\n    setActive(aoi);\n  };\n\n  const renderControl = () => {\n    return (\n      <>\n        <Form.Item>\n          <Radio.Group onChange={(e) => setStyle(e.target.value)} value={style}>\n            <Radio value=\"default\">\u9ed8\u8ba4\u6837\u5f0f</Radio>\n            <Radio value=\"custom\">\u81ea\u5b9a\u4e49\u6837\u5f0f</Radio>\n          </Radio.Group>\n        </Form.Item>\n      </>\n    );\n  };\n\n  return (\n    <DemoView renderControl={renderControl}>\n      {AOI_LIST.map((aoi, i) => (\n        <Marker\n          key={`marker-${i}`}\n          position={aoi.position}\n          zIndex={150}\n          clickable\n          onClick={() => onMarkerClick(aoi)}\n        />\n      ))}\n\n      {style === 'default' && active && (\n        <InfoWindow\n          position={position}\n          content={active.comment}\n          offset={[0, -30]}\n          autoMove\n          closeWhenClickMap\n          onClose={() => setActive(null)}\n        />\n      )}\n\n      {style === 'custom' && active && (\n        <InfoWindow\n          position={position}\n          offset={[0, -30]}\n          autoMove\n          closeWhenClickMap\n          isCustom\n          onClose={() => setActive(null)}\n        >\n          <Card shadow=\"always\">\n            <h3>\u8be5\u70b9\u7684\u4f4d\u7f6e</h3>\n            <div>{active.position.join(', ')}</div>\n            <div></div>\n          </Card>\n        </InfoWindow>\n      )}\n    </DemoView>\n  );\n};\n\nexport default ExampleInfoWindow;\n"))}v.isMDXComponent=!0},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(0),l=n.n(a),i=n(136),r=n(415);function b(e){const[t,n]=Object(a.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{marginBottom:4}},l.a.createElement("span",null,"\u67e5\u770b\u6e90\u4ee3\u7801\uff1a"),l.a.createElement(r.a,{checked:t,onChange:e=>n(e)})),t&&l.a.createElement(i.a,null,e.children))}},126:function(e,t,n){"use strict";var a=n(2),l=n(0),i=n.n(l),r=n(410),b=n(134),o=n(123),c=(n(47),i.a.forwardRef((function(e,t){var n=e.hideControl,c=e.renderControl,d=void 0===c?function(){return null}:c,m=Object(l.useRef)(void 0);Object(l.useImperativeHandle)(t,(function(){return m.current}),[m.current]);var p=Object(l.useState)(14),O=p[0],j=p[1],s=Object(l.useState)([116.473778,39.990661]),u=s[0],N=s[1],C=Object(l.useCallback)((function(t){t.setFitView(null,!0),e.onMapComplete&&e.onMapComplete(t)}),[]),g=Object(l.useCallback)((function(t,n){e.onMapClick&&e.onMapClick(t,n)}),[]),v=Object.assign({viewMode:"3D",mapStyle:"amap://styles/whitesmoke",isHotspot:!1,showIndoorMap:!1,center:u,zoom:O,onZoomChange:Object(l.useCallback)((function(e){return j(e.getZoom())}),[]),onMapMove:Object(l.useCallback)((function(e){var t=e.getCenter();N([t.getLng(),t.getLat()])}),[])},e.mapOptions),f=Object.assign({width:"100%",height:"400px"},e.mapStyle),h=d();return i.a.createElement(b.a,null,(function(){return i.a.createElement("div",{className:"demo-view",style:{width:"100%"}},!n&&i.a.createElement(r.a,{className:"control",layout:"inline",size:"small",style:{padding:"10px 0px",position:"relative"}},h),i.a.createElement("div",{className:"map",style:f},i.a.createElement(o.a,Object(a.a)({ref:m},v,{onComplete:C,onClick:g}),e.children)))}))})));t.a=c}}]);