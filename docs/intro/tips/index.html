<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<title data-react-helmet="true">小贴士 | AMap-React</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docusaurus_language" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="小贴士 | AMap-React"><meta data-react-helmet="true" name="description" content="1. 受控组件"><meta data-react-helmet="true" property="og:description" content="1. 受控组件"><meta data-react-helmet="true" property="og:url" content="https://jimnox.gitee.io/amap-react/amap-react/docs/intro/tips"><link data-react-helmet="true" rel="shortcut icon" href="/amap-react/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://jimnox.gitee.io/amap-react/amap-react/docs/intro/tips"><link rel="stylesheet" href="/amap-react/styles.e5f0e2ab.css">
<link rel="preload" href="/amap-react/styles.35737690.js" as="script">
<link rel="preload" href="/amap-react/runtime~main.964b97ee.js" as="script">
<link rel="preload" href="/amap-react/main.3ca2f435.js" as="script">
<link rel="preload" href="/amap-react/common.ad3382f1.js" as="script">
<link rel="preload" href="/amap-react/4.5b1403bc.js" as="script">
<link rel="preload" href="/amap-react/6.1bb2f953.js" as="script">
<link rel="preload" href="/amap-react/1be78505.50f13abd.js" as="script">
<link rel="preload" href="/amap-react/60.7d504bbd.js" as="script">
<link rel="preload" href="/amap-react/935f2afb.233e0c3d.js" as="script">
<link rel="preload" href="/amap-react/17896441.f54cb115.js" as="script">
<link rel="preload" href="/amap-react/ee399bf8.0115c6be.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/amap-react/"><img class="navbar__logo" src="/amap-react/img/logo.png" alt="logo"><strong class="navbar__title">AMap-React</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/amap-react/docs/intro/index">介绍</a><a class="navbar__item navbar__link" href="/amap-react/docs/references/map/index">API 文档</a><a class="navbar__item navbar__link" href="/amap-react/docs/examples/index">示例</a></div><div class="navbar__items navbar__items--right"><a href="https://lbs.amap.com/api/jsapi-v2/summary/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">AMap JSAPI 2.0 文档</a><a href="https://lbs.amap.com/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">高德开放平台</a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/amap-react/"><img class="navbar__logo" src="/amap-react/img/logo.png" alt="logo"><strong class="navbar__title">AMap-React</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/amap-react/docs/intro/index">介绍</a></li><li class="menu__list-item"><a class="menu__link" href="/amap-react/docs/references/map/index">API 文档</a></li><li class="menu__list-item"><a class="menu__link" href="/amap-react/docs/examples/index">示例</a></li><li class="menu__list-item"><a href="https://lbs.amap.com/api/jsapi-v2/summary/" target="_blank" rel="noopener noreferrer" class="menu__link">AMap JSAPI 2.0 文档</a></li><li class="menu__list-item"><a href="https://lbs.amap.com/" target="_blank" rel="noopener noreferrer" class="menu__link">高德开放平台</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2UBv"><div class="docSidebarContainer_1hqR" role="complementary"><div class="sidebar_MSwm"><div class="menu menu--responsive menu_2hiu"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_37TU" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">介绍</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/intro/index">介绍</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/intro/installation">安装使用</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/intro/playground">游乐场</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/intro/component-ref">获取组件 ref</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/intro/extending">扩展自定义组件</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/amap-react/docs/intro/tips">小贴士</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#!">API 文档</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/references/map/index">地图</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">覆盖物</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">点</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/point/marker">Marker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/point/circle-marker">CircleMarker</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/point/text">Text</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/point/label-marker">LabelMarker</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">线</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/line/polyline">Polyline</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/line/bezier-curve">BezierCurve</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">面</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/plane/circle">Circle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/plane/polygon">Polygon</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/plane/rectangle">Rectangle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/overlays/plane/ellipse">Ellipse</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">图层</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">瓦片图层</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/tile/official">官方图层</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/tile/tile-layer">TileLayer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/tile/flexible-layer">FlexibleLayer</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">自定义图层</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/custom/image-layer">ImageLayer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/custom/canvas-layer">CanvasLayer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/custom/custom-layer">CustomLayer</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">简易行政区图</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/district/world">WorldLayer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/district/country">CountryLayer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/amap-react/docs/references/layers/district/province">ProvinceLayer</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/references/infowindow/index">信息窗</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/references/controls/index">地图控件</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/amap-react/docs/references/utils/index">实用函数</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="/amap-react/docs/examples/index">示例</a></li></ul></div></div></div><main class="docMainContainer_1rYT"><div class="container padding-vert--lg docItemWrapper_3NEy"><div class="row"><div class="col docItemCol_xWqS"><div class="docItemContainer_2ApQ"><article><header><h1 class="docTitle_N1jF">小贴士</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="1-受控组件"></a>1. 受控组件<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-受控组件" title="Direct link to heading">#</a></h2><p>amap-react 中大多数组件都是受控组件，你需要用一组典型的<code>value</code>/<code>onChange</code>模式来管理这些 props。</p><p>例如，如果你需要设置地图中心点和缩放级别，则可以使用类似下面的代码来实现</p><div class="mdxCodeBlock_xYIz"><div class="codeBlockContent_rlEb"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_kOW4">Copy</button><div class="prism-code language-jsx codeBlock_1AP7"><div class="codeBlockLines_1boI" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">zoom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> setZoom</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useState</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token number" style="color:rgb(247, 140, 108)">10</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">center</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> setCenter</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useState</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token number" style="color:rgb(247, 140, 108)">116.473571</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">39.993083</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 203, 107)">Amap</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">    </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">zoom</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)">zoom</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">    </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">center</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)">center</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">    </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">onZoomChange</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 85, 114)">map</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)"> </span><span class="token tag script language-javascript operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)"> </span><span class="token tag script language-javascript function" style="color:rgb(130, 170, 255)">setZoom</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)">map</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token tag script language-javascript function" style="color:rgb(130, 170, 255)">getZoom</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">    </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">onMapMove</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag script language-javascript parameter" style="color:rgb(255, 85, 114)">map</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)"> </span><span class="token tag script language-javascript operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)"> </span><span class="token tag script language-javascript function" style="color:rgb(130, 170, 255)">setCenter</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)">map</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token tag script language-javascript function" style="color:rgb(130, 170, 255)">getCenter</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token tag script language-javascript function" style="color:rgb(130, 170, 255)">toArray</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag" style="color:rgb(255, 85, 114)"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token tag" style="color:rgb(255, 85, 114)">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div></div></div><p>具体例子可以参考<a href="https://codesandbox.io/s/controllable-buvxn?file=/src/App.js" target="_blank" rel="noopener noreferrer">受控组件</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="2-使用-amap-react-未封装的-props"></a>2. 使用 amap-react 未封装的 props<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-使用-amap-react-未封装的-props" title="Direct link to heading">#</a></h2><p>由于版本更新难以完全同步，amap-react 未能覆盖所有的 AMap JSAPI 的属性，你可能有不同场景需要传入或者修改 AMap 组件的某些参数</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="21-作为初始化参数"></a>2.1. 作为初始化参数<a aria-hidden="true" tabindex="-1" class="hash-link" href="#21-作为初始化参数" title="Direct link to heading">#</a></h3><p>如果你需要将尚未支持的参数作为 AMap 组件的初始化属性传入，可以将其放入<code>extraOptions</code>属性中，例如</p><div class="mdxCodeBlock_xYIz"><div class="codeBlockContent_rlEb"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_kOW4">Copy</button><div class="prism-code language-jsx codeBlock_1AP7"><div class="codeBlockLines_1boI" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 203, 107)">Amap</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">extraOptions</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)"> someNewMapOptions</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)"> value </span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;</span><span class="token tag class-name" style="color:rgb(255, 203, 107)">Marker</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag attr-name" style="color:rgb(255, 203, 107)">extraOptions</span><span class="token tag script language-javascript script-punctuation punctuation" style="color:rgb(199, 146, 234)">=</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)"> someNewMarkerOptions</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token tag script language-javascript" style="color:rgb(255, 85, 114)"> anotherValue </span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag script language-javascript punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token tag" style="color:rgb(255, 85, 114)"> </span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">/&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&lt;/</span><span class="token tag class-name" style="color:rgb(255, 203, 107)">Amap</span><span class="token tag punctuation" style="color:rgb(199, 146, 234)">&gt;</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="22-运行中获取或者修改-amap-组件的属性"></a>2.2. 运行中获取或者修改 AMap 组件的属性<a aria-hidden="true" tabindex="-1" class="hash-link" href="#22-运行中获取或者修改-amap-组件的属性" title="Direct link to heading">#</a></h3><p>如果要在运行中读取或者修改 AMap 组件的属性，可以通过<code>ref</code>拿到 AMap 组件对象，或者通过<code>useAmap</code>拿到地图对象，再调用你需要的<code>getter/setter</code></p><p>具体使用方法可以参考<a href="/amap-react/docs/intro/component-ref">获取组件 ref</a>和<a href="/amap-react/docs/intro/extending">扩展自定义组件</a>。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="3-性能优化"></a>3. 性能优化<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-性能优化" title="Direct link to heading">#</a></h2><p>如果你需要展现的地图元素较少，例如几个或者几十个点、线、面，你可以直接通过 React 组件方式，循环生成点、线、面等组件。这样你可以像使用普通的 React 组件一样去给它们绑定数据、事件，并且根据数据的变化随时去更新它们。即使对于 AMap JSAPI 的 API 并不是非常熟悉，也可以开发一些基于地图的业务场景。</p><p>例如<a href="/amap-react/docs/references/overlays/point/label-marker">LabelMarker</a>、<a href="https://codesandbox.io/s/wangjing-ranking-5lc3k" target="_blank" rel="noopener noreferrer">小区排行</a>的例子，就是简单地将数组循环映射成<code>&lt;LabelMarker&gt;</code>和<code>&lt;Polygon&gt;</code>。</p><p>如果你需要展现的地图元素很多，例如你需要展示数千乃至数万的点，使用上述的方式则会产生大量的 React 组件实例。这样除了会造成 React Virtual DOM 压力剧增以外，如此多的组件去维护各自对应的 AMap 组件实例所带来的额外开销也很大，页面的初始渲染和更新会变得非常卡顿。</p><p>如果遇到这种情况，建议你不要再循环生成大量的组件实例，而是将数据的管理和应用封装在单个组件内部，例如<a href="https://codesandbox.io/s/dalianglabelmarker-f7mxo" target="_blank" rel="noopener noreferrer">大量 LabelMarker</a>。除了散点图，你也可以考虑更多的展现方式，比如<a href="https://codesandbox.io/s/heatmap-mnq2x" target="_blank" rel="noopener noreferrer">热力图</a>、<a href="https://codesandbox.io/s/marker-cluster-mb7vk" target="_blank" rel="noopener noreferrer">点聚合</a>、<a href="https://codesandbox.io/s/glcustomlayer-yt22k" target="_blank" rel="noopener noreferrer">WebGL 绘制</a>，或者将数据按行政区聚合后再展示<a href="https://codesandbox.io/s/xingzhengqutongji-t25m1" target="_blank" rel="noopener noreferrer">各省 GDP 增速可视化</a>。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="4-响应地图事件"></a>4. 响应地图事件<a aria-hidden="true" tabindex="-1" class="hash-link" href="#4-响应地图事件" title="Direct link to heading">#</a></h2><p>你可以在子组件中，使用<a href="/amap-react/docs/references/utils/index"><code>useAmapEvents</code></a>来自动绑定/解绑<code>AMap.Map</code>的事件，具体用法可以参考<a href="https://codesandbox.io/s/useamapevents-qcztz?file=/src/ZoomButton.js" target="_blank" rel="noopener noreferrer">这个例子</a>。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="5-我该使用marker还是labelmarker"></a>5. 我该使用<code>&lt;Marker&gt;</code>还是<code>&lt;LabelMarker&gt;</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#5-我该使用marker还是labelmarker" title="Direct link to heading">#</a></h2><table><thead><tr><th>对比维度</th><th><code>&lt;Marker&gt;</code></th><th><code>&lt;LabelMarker&gt;</code></th></tr></thead><tbody><tr><td>性能</td><td>几十 ~ 几百个点</td><td>成千上万个点（不开启避让）</td></tr><tr><td>样式</td><td>复杂 - 可自定义 DOM 和 CSS</td><td>简单 - 图标 + 文字</td></tr><tr><td>聚合</td><td>通过使用<code>&lt;MarkerCluster&gt;</code>组件<br>可以支持复杂的聚合</td><td>通过配置<code>collision=true</code>参数<br>可以支持避让</td></tr><tr><td>移动</td><td>通过加载<code>AMap.MoveAnimation</code>插件<br>可以支持<code>moveTo</code>和<code>moveAlong</code></td><td>不支持，需要自行实现</td></tr><tr><td>事件</td><td>丰富</td><td>简单</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_3pqN" id="6-我该使用circle还是circlemarker"></a>6. 我该使用<code>&lt;Circle&gt;</code>还是<code>&lt;CircleMarker&gt;</code><a aria-hidden="true" tabindex="-1" class="hash-link" href="#6-我该使用circle还是circlemarker" title="Direct link to heading">#</a></h2><table><thead><tr><th>对比维度</th><th><code>&lt;Circle&gt;</code></th><th><code>&lt;CircleMarker&gt;</code></th></tr></thead><tbody><tr><td>半径单位</td><td>米（展现的大小随地图缩放）</td><td>像素（不受地图缩放影响）</td></tr><tr><td>样式</td><td>不支持<code>strokeStyle</code>和<code>strokeDasharray</code>（虚线边框）</td><td>支持几乎所有的“面”类型样式</td></tr><tr><td>交互性</td><td>与<code>&lt;Polygon&gt;</code>类似，可以通过<code>&lt;CircleEditor&gt;</code>来编辑</td><td>与<code>&lt;Marker&gt;</code>类似</td></tr></tbody></table><blockquote><p><code>&lt;CircleMarker&gt;</code>不支持虚线边框，我非要展示一个带虚线边框的、以像素为单位的圆，该怎么办？</p></blockquote><ul><li>制作带虚线边框的圆形png或svg图片资源</li><li>通过<code>&lt;Marker&gt;</code>或<code>&lt;LabelMarker&gt;</code>来展现</li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/amap-react/docs/intro/extending"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 扩展自定义组件</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/amap-react/docs/references/map/index"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">地图 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3iuQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-受控组件" class="table-of-contents__link">1. 受控组件</a></li><li><a href="#2-使用-amap-react-未封装的-props" class="table-of-contents__link">2. 使用 amap-react 未封装的 props</a><ul><li><a href="#21-作为初始化参数" class="table-of-contents__link">2.1. 作为初始化参数</a></li><li><a href="#22-运行中获取或者修改-amap-组件的属性" class="table-of-contents__link">2.2. 运行中获取或者修改 AMap 组件的属性</a></li></ul></li><li><a href="#3-性能优化" class="table-of-contents__link">3. 性能优化</a></li><li><a href="#4-响应地图事件" class="table-of-contents__link">4. 响应地图事件</a></li><li><a href="#5-我该使用marker还是labelmarker" class="table-of-contents__link">5. 我该使用<code>&lt;Marker&gt;</code>还是<code>&lt;LabelMarker&gt;</code></a></li><li><a href="#6-我该使用circle还是circlemarker" class="table-of-contents__link">6. 我该使用<code>&lt;Circle&gt;</code>还是<code>&lt;CircleMarker&gt;</code></a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="text--center"><div>Copyright © 2021 Amap.com.</div></div></div></footer></div>
<script src="/amap-react/styles.35737690.js"></script>
<script src="/amap-react/runtime~main.964b97ee.js"></script>
<script src="/amap-react/main.3ca2f435.js"></script>
<script src="/amap-react/common.ad3382f1.js"></script>
<script src="/amap-react/4.5b1403bc.js"></script>
<script src="/amap-react/6.1bb2f953.js"></script>
<script src="/amap-react/1be78505.50f13abd.js"></script>
<script src="/amap-react/60.7d504bbd.js"></script>
<script src="/amap-react/935f2afb.233e0c3d.js"></script>
<script src="/amap-react/17896441.f54cb115.js"></script>
<script src="/amap-react/ee399bf8.0115c6be.js"></script>
</body>
</html>